<template args="model">
    <form class="body-block" method="post" action="{model.postEndpoint}" enctype="multipart/form-data">
        <div class="question">Wrong subject? Select a different subject.</div>
        <div skip="true"></div>
        <select name="book">
            <option each="book in model.books" value="{book.id}"
             data-string-value="{book.title}"
             selected="{book.title === model.selectedTitle ? '' : null}">{book.title}</option>
        </select>
        <div>Selected title: {model.selectedTitle}</div>
        <div class="question">Select the type of error below.</div>
        <div class="radio-columns">
            <span class="invalid-message">{model.validationMessage('source')}</span>
            <label each="eType in model.errorTypes">
                <input type="radio" name="error_type" value="{eType}" required/>
                <span class="proxy"></span>
                {eType}
                <input if="eType === 'Other'" type="text" name="otherError" maxlength="250" />
            </label>
        </div>
        <div class="helpbox {model.helpBoxVisible()}">
            Need help logging in or have general questions? Contact Support at
            <a mailto="support@openstax.org">support@openstax.org</a>.
        </div>
        <div class="question">In which source did you find this error?</div>
        <div class="radio-columns">
            <span class="invalid-message">{model.validationMessage('source')}</span>
            <label each="sType in model.sourceTypes">
                <input type="radio" name="source" value="{sType}"
                 checked="{model.selectedSource === sType ? '' : null}" required/>
                <span class="proxy"></span>
                {sType}
                <span if="sType in model.subnotes" class="subnote"><br>{model.subnotes[sType]}</span>
                <input if="sType === 'Other'" type="text" name="otherSource" maxlength="250" />
            </label>
        </div>
        <div class="question">Where did you find this error?</div>
        <input type="text" name="location" placeholder="Page number, url, etc."
         value="{model.location}" />
        <div class="question">Tell us in detail about the issue.</div>
        <div class="subnote">
            Please limit to one error per submission and include a suggested
            resolution, if possible. If you have several to report, please
            contact us at <a mailto="errata@openstax.org">errata@openstax.org</a>.
        </div>
        <span class="invalid-message">{model.validationMessage('source')}</span>
        <textarea maxlength="1000" name="detail" required></textarea>
        <div class="question">Please add a screenshot or any other file that helps explain the error.</div>
        <div>
            <label class="btn">
                Add file
                <input type="file" class="hidden" name="file" class="btn" />
            </label>
        </div>
        <div>
            <input type="submit" class="btn" />
        </div>
    </form>
</template>
